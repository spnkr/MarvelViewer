<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MarvelViewer - Importer</title>
    <link rel="stylesheet" type="text/css" href="https://spnkr.github.io/marvel-wip/all.css" media="all" />
</head>
<body>
    <header>
        <a href="https://spnkr.github.io/marvel-wip/">
            <strong>
                MarvelViewer
            </strong>
            <span>Documentation</span>
        </a>
    </header>

    <!--
    <form class="search">
        <input type="search" placeholder="Search" />
    </form>
    -->

    <nav>
        <div class="wrapper">
            <h2>On This Page</h2>
            <ol><li><a href="#properties">Properties</a><ul><li class="variable"><a href="#importer.shared">shared</a></li><li class="variable"><a href="#importer.apikey">api​Key</a></li><li class="variable"><a href="#importer.ts">ts</a></li><li class="variable"><a href="#importer.hash">hash</a></li></ul></li><li><a href="#methods">Methods</a><ul><li class="function"><a href="#importer.setapiauthentication(apikey:ts:hash:)">set​Api​Authentication(api​Key:​ts:​hash:​)</a></li><li class="function"><a href="#importer.fetchfromapi(limit:offset:namestartswith:done:)">fetch​From​API(limit:​offset:​name​Starts​With:​done:​)</a></li><li class="function"><a href="#importer.load(data:)">load(data:​)</a></li><li class="function"><a href="#importer.tocoredata(_:namestartswith:context:)">to​Core​Data(_:​name​Starts​With:​context:​)</a></li></ul></li></ol>
        </div>
    </nav>

    <main>
        <article>
            <h1>
    <small>Class</small>
    <code class="name">Importer</code>
</h1>

<div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">class</span> <span class="type">Importer</span>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Imports data from the REST API into Core Data</p>

</div>

    <section id="properties">
        <h2>Properties</h2>

        <div role="article" class="variable" id="importer.shared">
    <h3>
        <code><a href="#importer.shared">shared</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">static</span> <span class="keyword">let</span> <span class="variable">shared</span>  </body></html></code></pre>
</div>
</div>
<div role="article" class="variable" id="importer.apikey">
    <h3>
        <code><a href="#importer.apikey">api​Key</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">var</span> <span class="variable">apiKey</span>: <span class="type">String</span>? </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>API Key used for Marvel API access. Reads from the Info.plist file - MarvelKeys.apikey</p>

</div>
</div>
<div role="article" class="variable" id="importer.ts">
    <h3>
        <code><a href="#importer.ts">ts</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">var</span> <span class="variable">ts</span>: <span class="type">String</span>? </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p><code>ts</code> value used for Marvel API access. Reads from the Info.plist file - MarvelKeys.ts</p>

</div>
</div>
<div role="article" class="variable" id="importer.hash">
    <h3>
        <code><a href="#importer.hash">hash</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">var</span> <span class="variable">hash</span>: <span class="type">String</span>? </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Hash used for Marvel API access. Reads from the Info.plist file - MarvelKeys.hash</p>

</div>
</div>
    </section>
    <section id="methods">
        <h2>Methods</h2>

        <div role="article" class="function" id="importer.setapiauthentication(apikey:ts:hash:)">
    <h3>
        <code><a href="#importer.setapiauthentication(apikey:ts:hash:)">set​Api​Authentication(api​Key:​ts:​hash:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">func</span> <span class="function">setApiAuthentication</span>(<span class="variable">apiKey</span>: <span class="type">String</span>, <span class="variable">ts</span>: <span class="type">String</span>, <span class="variable">hash</span>: <span class="type">String</span>)  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Add your API key.</p>

</div>
<div class="discussion">
    <p>See https://developer.marvel.com/documentation/authorization for more on <code>ts</code> and <code>hash</code>.</p>

<p>Parameters:</p>

<ul>
<li>
<p>apiKey: Marvel API key</p>
</li>
<li>
<p>ts: ts value, must be same as used to generate hash</p>
</li>
<li>
<p>hash: MD5 hash of <code>md5(ts+privateKey+publicKey)</code></p>
</li>
</ul>

</div>
</div>
<div role="article" class="function" id="importer.fetchfromapi(limit:offset:namestartswith:done:)">
    <h3>
        <code><a href="#importer.fetchfromapi(limit:offset:namestartswith:done:)">fetch​From​API(limit:​offset:​name​Starts​With:​done:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">fetchFromAPI</span>(<span class="variable">limit</span>: <span class="type">Int</span>, <span class="variable">offset</span>: <span class="type">Int</span>, <span class="variable">nameStartsWith</span>: <span class="type">String</span>? = <span class="keyword">nil</span>, <span class="variable">done</span>: ((<span class="type">Bool</span>) -&gt; <span class="type">Void</span>)? = <span class="keyword">nil</span> )  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Queries the Marvel API, loads results into Core Data. Uses a cache, so requests that have suceeded in the past may work offline. Uses <code>load(...)</code> and <code>toCoreData(...)</code> internally.</p>

</div>
</div>
<div role="article" class="function" id="importer.load(data:)">
    <h3>
        <code><a href="#importer.load(data:)">load(data:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">func</span> <span class="function">load</span>(<span class="variable">data</span>: <span class="type">Data</span>) -&gt; <a href="https://spnkr.github.io/marvel-wip/Marvel"><span class="type">Marvel</span></a>.<span class="type">API</span>.<span class="type">Characters</span>.<span class="type">DataWrapper</span>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Translates JSON from the API into Decodable objects</p>

</div>
</div>
<div role="article" class="function" id="importer.tocoredata(_:namestartswith:context:)">
    <h3>
        <code><a href="#importer.tocoredata(_:namestartswith:context:)">to​Core​Data(_:​name​Starts​With:​context:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">func</span> <span class="function">toCoreData</span>(<span class="keyword">_</span> <span class="variable">characters</span>: [<a href="https://spnkr.github.io/marvel-wip/Marvel"><span class="type">Marvel</span></a>.<span class="type">API</span>.<span class="type">Characters</span>.<a href="https://spnkr.github.io/marvel-wip/Character"><span class="type">Character</span></a>], <span class="variable">nameStartsWith</span>: <span class="type">String</span>?, <span class="variable">context</span>: <span class="type">NSManagedObjectContext</span>)  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Updates Core Data to include the passed Decodable objects</p>

</div>
</div>
    </section>



        </article>
    </main>

    <footer>
        <p>
    Generated on <time datetime="2021-09-30T00:12:58-0400">September 30, 2021</time> using <a href="https://github.com/SwiftDocOrg/swift-doc">swift-doc</a> <span class="version">1.0.0-rc.1</span>.
</p>
    </footer>
</body>
</html>
